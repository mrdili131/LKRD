{% load humanize %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bank App â€“ Transactions</title>

<style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}

    body{
        background:#f3fff5;
        padding-bottom:80px;
        color:#111;
    }

    /* TOP BAR */
    .top-bar{
        background:#0c8c3d;
        padding:15px 20px;
        color:white;
        font-size:22px;
        font-weight:bold;
        display:flex;
        justify-content:space-between;
        align-items:center;
        box-shadow:0 2px 10px rgba(0,0,0,0.15);
    }

    .profile{
        width:40px;height:40px;
        border-radius:50%;
        background:white;
        display:flex;
        justify-content:center;
        align-items:center;
        color:#0c8c3d;
        font-weight:bold;
        font-size:18px;
    }

    .container{
        max-width:480px;
        margin:auto;
        padding:20px;
    }

    /* SUMMARY CARD */
    .summary-card{
        background:white;
        padding:18px;
        border-radius:14px;
        box-shadow:0 2px 8px rgba(0,0,0,0.12);
        margin-bottom:20px;
    }

    .summary-title{
        font-size:18px;
        font-weight:bold;
        color:#0c8c3d;
        margin-bottom:10px;
    }

    .summary-row{
        display:flex;
        justify-content:space-between;
        margin-bottom:6px;
    }

    .label{
        opacity:0.7;
        font-size:14px;
    }

    .value{
        font-weight:bold;
        font-size:16px;
    }

    .green{color:#0c8c3d;}
    .red{color:#d63131;}

    /* FILTER BAR */
    .filter-bar{
        display:flex;
        justify-content:space-between;
        background:white;
        padding:12px 15px;
        border-radius:12px;
        box-shadow:0 2px 10px rgba(0,0,0,0.1);
        margin-bottom:20px;
    }

    .filter-btn{
        padding:8px 16px;
        border-radius:10px;
        background:#e8ffee;
        color:#0c8c3d;
        font-weight:bold;
        cursor:pointer;
        font-size:14px;
        border:2px solid #b7f2c5;
    }

    /* TRANSACTION LIST */
    .transaction-card{
        background:white;
        padding:15px;
        border-radius:15px;
        box-shadow:0 2px 8px rgba(0,0,0,0.1);
        margin-bottom:15px;
        display:flex;
        justify-content:space-between;
        align-items:center;
    }

    .left{
        display:flex;
        align-items:center;
    }

    .icon{
        width:45px;height:45px;
        border-radius:12px;
        background:#0c8c3d;
        display:flex;
        justify-content:center;
        align-items:center;
        color:white;
        font-size:22px;
        margin-right:12px;
    }

    .title{
        font-size:16px;
        font-weight:bold;
        color:#0c8c3d;
    }

    .sub{
        font-size:12px;
        opacity:0.6;
    }

    .amount{
        font-size:16px;
        font-weight:bold;
    }

    .minus{
        color:#d63131;
    }
    .plus{
        color:#0c8c3d;
    }

    /* bottom nav */
    nav{
        position:fixed;
        bottom:0;
        width:100%;
        background-color:rgb(15,151,0);
        padding:8px 0;
        display:flex;
        justify-content:space-around;
        align-items:center;
        z-index:999;
    }

    nav svg{
        width:35px;
        height:35px;
        fill:#e3e3e3;
    }
</style>
</head>
<body>

<!-- TOP BAR -->
<div class="top-bar">
    <div>LKRD O'tkazmalar</div>
    <a href="{% url 'notifications' %}" style="text-decoration: none;" class="profile">{{request.user.first_name|slice:":1"}}</a>
</div>

<div class="container">

    <!-- MONTHLY SUMMARY -->
    <div class="summary-card">
        <div class="summary-title">Oxirgi oy ma'lumoti</div>

        <div class="summary-row">
            <div class="label">Jami kirim:</div>
            <div class="value green">+ {{income|intcomma}} UZS</div>
        </div>

        <div class="summary-row">
            <div class="label">Total Spending:</div>
            <div class="value red">- {{spending|intcomma}} UZS</div>
        </div>

    </div>

    <!-- FILTER BAR -->
    <!-- <div class="filter-bar">
        <div class="filter-btn">All</div>
        <div class="filter-btn">Income</div>
        <div class="filter-btn">Expenses</div>
    </div> -->

    <!-- TRANSACTION ITEMS -->

    {% for i in transactions %}
        <div class="transaction-card">
            <div class="left">
                <div class="icon">ðŸ’³</div>
                <div>
                    <div class="title">Kartadan o'tkazma</div>
                    <div class="sub">{{i.created_at}}</div>
                </div>
            </div>
            {% if i.sender == request.user %}
                <div class="amount minus">-{{i.amount|intcomma}} so'm</div>
            {% else %}
                <div class="amount plus">+{{i.amount|intcomma}} so'm</div>
            {% endif %}
        </div>
    {% endfor %}

    <!-- <div class="transaction-card">
        <div class="left">
            <div class="icon">ðŸ’µ</div>
            <div>
                <div class="title">Salary</div>
                <div class="sub">Today, 09:41</div>
            </div>
        </div>
        <div class="amount plus">+ 4,200,000</div>
    </div>

    <div class="transaction-card">
        <div class="left">
            <div class="icon">ðŸ›’</div>
            <div>
                <div class="title">Supermarket</div>
                <div class="sub">Today, 12:10</div>
            </div>
        </div>
        <div class="amount minus">- 215,000</div>
    </div>

    <div class="transaction-card">
        <div class="left">
            <div class="icon">ðŸ“²</div>
            <div>
                <div class="title">Ucell Top-up</div>
                <div class="sub">Yesterday</div>
            </div>
        </div>
        <div class="amount minus">- 15,000</div>
    </div>

    <div class="transaction-card">
        <div class="left">
            <div class="icon">ðŸš•</div>
            <div>
                <div class="title">Taxi PayMe</div>
                <div class="sub">Yesterday</div>
            </div>
        </div>
        <div class="amount minus">- 28,000</div>
    </div> -->


</div>

<!-- BOTTOM NAV -->
{% include 'navbar.html' %}

</body>
</html>
